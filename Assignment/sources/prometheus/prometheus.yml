# prometheus/prometheus.yaml

global:
  scrape_interval: 15s # How often to scrape targets

# Tell Prometheus where to find your recording rules
rule_files:
  - "/etc/prometheus/rules.yaml"

# Define the "jobs" or targets to scrape
scrape_configs:
  - job_name: "gateway"
    # This tells Prometheus to look for the container named 'gateway'
    # on its internal port 8443 and scrape the /metrics endpoint
    static_configs:
      - targets: ["gateway:8443"]
    # Because the gateway uses HTTPS, we must tell Prometheus to
    # use the 'https' scheme and to skip verifying your self-signed certificate
    scheme: https
    tls_config:
      insecure_skip_verify: true